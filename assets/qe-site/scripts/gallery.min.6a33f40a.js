!(function(n,t){var o="gallery",a="roam",r=a+"."+o,e="."+r,s={resize:"resize"+e,keyup:"keyup"+e,click:"click"+e,mouseenter:"mouseenter"+e,mouseleave:"mouseleave"+e};t[a]||(t[a]={}),t[a][o]=function(e,i){var l=this;l.$el=t(e),l.el=e,l.$mainSlider=null,l.$thumbSlider=null,l.$originalMainSlider=null,l.$originalThumbSlider=null,l.$closeButton=null,l.$body=t("body"),l.open=!1,l.selected=0,l._bindOriginalSliderSelection=function(){l.$originalThumbSlider&&l.$originalThumbSlider.find(l.options.sliderItem).on(s.click,(function(e){var i=t(e.delegateTarget).data("sliderItem");l.selectOriginalSlide(i),l.selectSlide(i),l.selected=i})).on(s.mouseenter,(function(e){var i=t(e.delegateTarget);l.selectOriginalSlide(i.data("sliderItem"))})).on(s.mouseleave,(function(){l.selectOriginalSlide(l.selected)}))},l._bindSlideChangedEvents=function(){l.$mainSlider.roam_slider("getSlider").on("slideChangeEnd",(function(e){l.open&&(l.selected=e.activeIndex,l.selectOriginalSlide(e.activeIndex))}))},l._bindOpenEvents=function(){l.$elOriginal.on(s.click,l.show)},l._bindCloseEvents=function(){t(n).on(s.keyup,l._hideWithEscapeKey),l.$closeButton.on(s.click,l.hide)},l._unbindCloseEvents=function(){t(n).off(s.keyup,l._hideWithEscapeKey),l.$closeButton.off(s.click,l.hide)},l._hideWithEscapeKey=function(e){27===e.which&&l.hide()},l.selectSlide=function(e){null!==l.$mainSlider&&l.$mainSlider.roam_slider("getSlider").slideTo(e,0)},l.selectOriginalSlide=function(e){null!==l.$originalMainSlider&&(l.$originalMainSlider.find(l.options.sliderItem).removeClass(l.options.sliderItemActiveClass).filter(":eq("+e+")").addClass(l.options.sliderItemActiveClass),l.$originalThumbSlider&&l.$originalThumbSlider.find(l.options.sliderItem).removeClass(l.options.sliderItemActiveClass).filter(":eq("+e+")").addClass(l.options.sliderItemActiveClass))},l.show=function(e){e&&e.isDefaultPrevented()||(l.$el.addClass(l.options.modalOpenClass),l.$body.addClass(l.options.bodyOpenClass),l._bindCloseEvents(),l.open=!0,lazySizes.autoSizer.checkElems(),lazySizes.loader.checkElems())},l.hide=function(){l.$el.removeClass(l.options.modalOpenClass),l.$body.removeClass(l.options.bodyOpenClass),l._unbindCloseEvents(),l.open=!1,lazySizes.autoSizer.checkElems(),lazySizes.loader.checkElems()},l.init=function(){l.options=t.extend(!0,{},t[a][o].defaultOptions,i),l.$originalMainSlider=l.$el.find(l.options.mainSlider),l.$originalThumbSlider=l.$el.find(l.options.thumbSlider),l.$originalThumbSlider.length||(l.$originalThumbSlider=null),l._bindOriginalSliderSelection()},l.build=function(){var e,i;l.$elOriginal=l.$el,l.elOriginal=l.el,l.$el=l.$elOriginal.clone(!1),l.el=l.$el.get(0),l.$mainSlider=l.$el.find(l.options.mainSlider),l.$thumbSlider=l.$el.find(l.options.thumbSlider),l.$thumbSlider.length||(l.$thumbSlider=null),l.$closeButton=l.$el.find(l.options.closeButton),l.$el.addClass(l.options.modalClass),l.$body.append(l.$el),l.$mainSlider.find(l.options.sliderItem).show(),l.$mainSlider.roam_slider({group:l.options.mainSliderGroup,immediate:!0}),l.$thumbSlider&&(l.$thumbSlider.roam_slider({group:l.options.thumbSliderGroup,immediate:!0}),e=l.$mainSlider.roam_slider("getSlider"),i=l.$thumbSlider.roam_slider("getSlider"),(e.controller.control=i).controller.control=e),l._bindOpenEvents(),l._bindSlideChangedEvents()},l.init()},t[a][o].breakpoints={},t[a][o].defaultOptions={thumbSlider:"[data-listing-gallery-thumb]",thumbSliderGroup:"listingGalleryThumb",mainSlider:"[data-listing-gallery-main]",mainSliderGroup:"listingGalleryMain",closeButton:"[data-listing-gallery-close]",sliderItem:"[data-slider-item]",sliderItemActiveClass:"swiper-slide-active",bodyOpenClass:"modal-open",modalClass:"gallery-container--modal",modalOpenClass:"gallery-container--modal-open"},t.fn.roam_gallery=function(i){var l,n=Array.prototype.slice.call(arguments,1);return this.each((function(){var e=t.data(this,r);e||(e=t.isPlainObject(i)&&0===n.length?new t[a][o](this,i):new t[a][o](this),t.data(this,r,e)),"string"==typeof i&&"function"==typeof e[i]&&(l=e[i].apply(e,n))})),void 0!==l?l:this}})((window,document),jQuery),OAM.ready((function(){$("[data-listing-gallery]").each((function(){var i=$(this);OAM.isExtremeDataSavingBrowser()?i.roam_gallery():OAM.script(OAM.scripts.slider).wait((function(){i.roam_gallery(),i.one("click",(function(e){i.roam_gallery("build"),i.roam_gallery("show"),$(e.target).trigger(e)}))}))}))}));