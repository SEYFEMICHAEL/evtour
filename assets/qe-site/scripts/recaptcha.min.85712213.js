!(function(i,n,c){var r="recaptcha",o="roam",d=o+"."+r,s={recaptchaLoaded:"recaptchaLoaded.roam.recaptcha"};c[o]||(c[o]={}),c[o][r]=function(e,t){var a=this;a.$el=c(e),a.el=e,a.instanceId=null,a.isVerified=null,a.hasTriggeredRecapture=null,a._unbindVisibilityEvents=function(){a.$el.roam_visibility("unwatch")},a._bindVisibilityEvents=function(){a.$el.one("show.roam.visibility",a._initRecaptcha),a.$el.roam_visibility(),a.$el.roam_visibility("watch")},a._bindFormEvents=function(){a.$form=a.$el.parents("form"),a.$form.on("submit",a._interceptForm),a.$form.on("ajax:before",a._interceptForm)},a._interceptForm=function(e){if(!e.isDefaultPrevented()&&!a.isVerified)return a.hasTriggeredRecapture?void 0:(a.hasTriggeredRecapture=!0,setTimeout((function(){a.hasTriggeredRecapture=!1}),1e3),e.preventDefault(),grecaptcha.execute(a.instanceId),!1)},a._initRecaptcha=function(){a._unbindVisibilityEvents(),!0===i._googleRecaptchaLoaded?a._renderRecaptcha():c(n).one(s.recaptchaLoaded,a._renderRecaptcha),OAM.script("https://www.google.com/recaptcha/api.js?"+["render=explicit","onload=_googleRecaptchaLoaded","hl="+c("html").attr("lang")].join("&"))},a._renderRecaptcha=function(){"invisible"===a.$el.data("size")?(a._bindFormEvents(),a.isVerified=!1,a.hasTriggeredRecapture=!1,a.instanceId=grecaptcha.render(a.el,{callback:a._updateRecaptcha,isolated:!0})):a.instanceId=grecaptcha.render(a.el,{isolated:!0})},a._updateRecaptcha=function(){a.isVerified=!0,a.$form.trigger("submit"),grecaptcha.reset(a.instanceId),a._bindFormEvents()},a._getResponseValue=function(){grecaptcha.getResponse(a.instanceId)},a.init=function(){a.options=c.extend(!0,{},c[o][r].defaultOptions,t),i._googleRecaptchaLoaded=i._googleRecaptchaLoaded||function(){c(n).trigger(s.recaptchaLoaded),i._googleRecaptchaLoaded=!0},OAM.isExtremeDataSavingBrowser()?a._initRecaptcha():a._bindVisibilityEvents()},a.init()},c[o][r].defaultOptions={},c.fn.roam_recaptcha=function(t){var a,i=Array.prototype.slice.call(arguments,1);return this.each((function(){var e=c.data(this,d);e||(e=c.isPlainObject(t)&&0===i.length?new c[o][r](this,t):new c[o][r](this),c.data(this,d,e)),"string"==typeof t&&"function"==typeof e[t]&&(a=e[t].apply(e,i))})),void 0!==a?a:this}})(window,document,jQuery),OAM.ready((function(){arriveEach("[data-recaptcha]",(function(){$(this).roam_recaptcha()}))}));