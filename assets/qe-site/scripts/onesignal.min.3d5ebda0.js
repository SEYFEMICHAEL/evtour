OAM.ready((function(){function n(){s().then((function(n){var s=!n.isPushEnabled||n.isOptedOut;$(document).trigger("subscriptionChange.onesignal",{isSubscribed:!s,isUnsubscribed:s})}))}var s=function(){return Promise.all([OneSignal.isPushNotificationsEnabled(),OneSignal.isOptedOut()]).then((function(n){return{isPushEnabled:n[0],isOptedOut:n[1]}}))};window.OneSignal=window.OneSignal||[],OneSignal.push((function(){OneSignal.isPushNotificationsSupported()&&(n(),OneSignal.on("subscriptionChange",n))})),arriveEach("[data-onesignal]",(function(){var i=$(this),n=i.data("onesignal"),e=i.find(n.subscribeElement),a=i.find(n.unsubscribeElement);e.on("click",(function(){s().then((function(n){n.isOptedOut?OneSignal.setSubscription(!0):OneSignal.registerForPushNotifications()}))})),a.on("click",(function(){OneSignal.setSubscription(!1)})),$(document).on("subscriptionChange.onesignal",(function(n,s){i.show(),s.isSubscribed?(e.addClass(s.hideClass).removeClass(s.showClass),a.addClass(s.showClass).removeClass(s.hideClass)):(a.addClass(s.hideClass).removeClass(s.showClass),e.addClass(s.showClass).removeClass(s.hideClass))}))}))}));