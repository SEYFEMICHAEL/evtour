OAM.ready((function(){$("[data-depends-on]").each((function(){var o=$(this),n=o.data("dependsOn"),e=o.data("dependsOnParam")||n,d=$('select[name="'+n+'"]',this.form);d.on("change",(function(){var a=d.val();return a?o.each((function(){var n=o.data("depends-on-url-params")||{};n[e]=a,$.get(o.data("depends-on-url"),n).done((function(n){var a=o.val();o.find('option[value!=""]').remove();var e=[];$.each(n.data,(function(n,a){e.push($('<option value="'+n+'">'+a+"</option>"))})),o.append(e).prop("disabled",!1),a&&o.val(a)})).fail((function(n){console.error(n)}))})):(o.find('option[value!=""]').remove(),o.prop("disabled",!0)),!0})),d.val()&&0===o.find("option").length&&d.trigger("change")}))}));